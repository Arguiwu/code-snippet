<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>css实现瀑布布局</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		.masonry {
			display: flex;
			flex-direction: row;
		}
		.column {
			display: flex;
			flex-direction: column;
			width: calc(100% / 3);
		}
		.item {
			margin: 0 5px 10px;
		}
	</style>
</head>
<body>
	<div class="masonry">
		<div class="column">
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
		</div>
		<div class="column">
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
		</div>
		<div class="column">
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
			<div class="item"></div>
		</div>
	</div>
	<script type="text/javascript">
		window.onload = function() {
			var els = document.querySelectorAll('.item');
			[].forEach.call(els, function(el) {
				var elHeight = Math.random() * 300 + 100;
				var cl = '#'+('00000'+(Math.random()*0x1000000<<0).toString(16)).slice(-6);
				el.style.height = elHeight + 'px';
				el.style.background = cl;
			});
		}
	</script>
</body>
</html>